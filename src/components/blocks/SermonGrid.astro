---
interface Props {
  sermon: any;
}

const { sermon } = Astro.props;
---

{sermon ? (
  <div class="bg-white rounded-sm shadow-xl overflow-hidden group h-full flex flex-col">
    <!-- Video/Image Area -->
    <div class="aspect-video bg-slate-800 relative flex items-center justify-center overflow-hidden">
        {sermon.data.youtube_id ? (
             <img 
                src={`https://img.youtube.com/vi/${sermon.data.youtube_id}/maxresdefault.jpg`} 
                alt={sermon.data.title} 
                class="w-full h-full object-cover opacity-80 group-hover:scale-105 transition-transform duration-700"
            />
        ) : (
             <img 
                src="https://images.unsplash.com/photo-1478147427282-58a87a120781?q=80&w=2070&auto=format&fit=crop" 
                alt="Sermon thumbnail" 
                class="w-full h-full object-cover opacity-60 group-hover:scale-105 transition-transform duration-700"
            />
        )}
     
      <div class="absolute inset-0 flex items-center justify-center">
        <a href={`/sermons/${sermon.slug}`} class="w-16 h-16 bg-[#D4A373]/90 rounded-full flex items-center justify-center text-white pl-1 shadow-lg group-hover:bg-[#1E293B] transition-colors cursor-pointer transform group-hover:scale-110 duration-300">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
            <path fill-rule="evenodd" d="M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.348c1.295.712 1.295 2.573 0 3.285L7.28 19.991c-1.25.687-2.779-.217-2.779-1.643V5.653z" clip-rule="evenodd" />
          </svg>
        </a>
      </div>
    </div>
    
    <div class="p-8 flex-1 flex flex-col">
      <div class="flex gap-2 mb-4">
         <span class="bg-slate-100 text-slate-600 px-3 py-1 text-xs font-bold uppercase tracking-wider rounded-full">
          {sermon.data.series || 'Sunday Service'}
         </span>
      </div>
      <h4 class="font-serif text-2xl font-bold text-[#1E293B] mb-2">
        <a href={`/sermons/${sermon.slug}`} class="hover:text-[#D4A373] transition-colors">
            {sermon.data.title}
        </a>
      </h4>
      <p class="font-sans text-slate-500 mb-6">{sermon.data.preacher} â€¢ {sermon.data.date.toLocaleDateString()}</p>
      
      <div class="border-t border-slate-100 pt-6 mt-auto">
        <p class="font-serif italic text-slate-600 line-clamp-2">
            {sermon.data.description || "Join us as we explore God's word together."}
        </p>
      </div>
    </div>
  </div>
) : (
  <div class="p-8 bg-white border border-dashed border-slate-300 text-center text-slate-400 italic h-full flex items-center justify-center">
    No sermons uploaded yet.
  </div>
)}
